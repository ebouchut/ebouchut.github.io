<!DOCTYPE html>
<html class=" " lang="en" >
<head>
<meta charset="utf-8">
<meta name="author" content="Eric Bouchut">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="//EricBouchut.com/2015/08/15/batch-rename-files-with-zsh/" rel="canonical">
<meta name='generator' content='Octopress v Jekyll v2.5.3, Octopress v3.0.11 Octopress Ink v1.2.0'>

<link href='/stylesheets/all-28dc16d19ecafc1d31236a9d98892948.css' media='all' rel='stylesheet' type='text/css'>


</head>
<body>
  <style>use { height: 0; }</style>
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/" style="display: none">
  <g id="site-search-svg"><path d="M125.7,120l-5.7,5.7c-1.5,1.5-3.5,2.3-5.7,2.3c-2.1,0-4.2-0.8-5.7-2.3L72.4,89.3C65.2,93.6,56.9,96,48,96 C21.5,96,0,74.5,0,48S21.5,0,48,0s48,21.5,48,48c0,8.9-2.4,17.2-6.7,24.4l36.3,36.3C128.8,111.8,128.8,116.9,125.7,120z M48,80 c17.7,0,32-14.3,32-32S65.7,16,48,16c-17.7,0-32,14.3-32,32S30.3,80,48,80z"/></g>
</svg>
  <div class="site"><div class='nav-panel'>
<nav class='mobile-nav' role="navigation">
  <div class='mobile-nav-item mobile-nav-search'><form class='site-search' action="https://google.com/search" method="get">
  <input type="hidden" name="sitesearch" value="//EricBouchut.com">
  <input id='site-search-mobile' class="site-search-input" type="text" name="q" results="0" placeholder="Search" accesskey="/">
  <label class='site-search-label' for='site-search-mobile'><svg class='site-search-icon' viewBox="0 0 128 128">
    <use xlink:href="#site-search-svg"></use>
  </svg></label>
</form></div>
  <a class="mobile-nav-item " href="/"/>Posts</a>

  
  
  
  
  <a class="mobile-nav-item " href="/about/">About me</a>

  
  
  
  
  <a class="mobile-nav-item " href="/contact/">Contact</a>
  
</nav>
</div>
<div class="site-content">
<div class="site-top"><div class="site-top-content">
<header role="banner" class="site-header">
  <h1 class="site-title"><a class="site-title-link" href="/"/>Eric Bouchut</a></h1>
</header>
<nav class='main-nav' role="navigation">
  <a class="main-nav-item " href="/"/>Posts</a>
  <a class="main-nav-item " href="/about/">About me</a>
  <a class="main-nav-item " href="/contact/">Contact</a>
  <div class='main-nav-item main-nav-search'><form class='site-search' action="https://google.com/search" method="get">
  <input type="hidden" name="sitesearch" value="//EricBouchut.com">
  <input id='site-search-main' class="site-search-input" type="text" name="q" results="0" placeholder="Search" accesskey="/">
  <label class='site-search-label' for='site-search-main'><svg class='site-search-icon' viewBox="0 0 128 128">
    <use xlink:href="#site-search-svg"></use>
  </svg></label>
</form></div>
  <button class="mobile-nav-toggle" href="#" onclick="(function(){ document.querySelector('html').classList.toggle('mobile-nav-active') })()"><span class="mobile-nav-icon"></span><span class="hidden-label">Navigate<span></span></span></button>
</nav>
</div></div>
<div class="site-main">
<div class="main ">
  <div class="main-content">
<article class="entry post   " role="article">
  <header class="entry-header">
    
    <div class='entry-header-content'>
      <h1 class="entry-title">Batch File Renaming With&nbsp;Zsh</h1>
      
      
    </div>
  </header>

  <div class="entry-meta"><a class='entry-date' href="/2015/08/15/batch-rename-files-with-zsh/"><time class='entry-date' datetime='2015-08-15T20:44:39+02:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>15</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span></time></a></div>

  <div class="entry-content">
<p>I recently discovered <strong><code>zmv</code></strong>, a builtin feature of zsh that makes batch file renaming, a breeze. </p>

<p>To use it you need to add this to your zsh configuration file (<code>.zshrc</code>).</p>

<div class="highlight"><pre><code class="language-shell" data-lang="shell">autoload zmv</code></pre></div>

<p>My blog contains several Markdown files with a <code>.markdown</code> extension and I want to use <code>.md</code> instead. Here is what the markdown files looks like.</p>

<div class="highlight"><pre><code class="language-shell" data-lang="shell">ls <span class="k">**</span>/<span class="k">*</span>.markdown  
    ./_drafts/2012-05-06-learning-ruby-and-ruby-on-rails.markdown
    ./_drafts/2015-07-19-welcome-to-jekyll.markdown
    ./_posts/2012-02-10-baked-with-octopress.markdown
    ./_posts/2015-08-15-batch-rename-files-with-zsh.markdown
    ./_posts/2015-08-15-octopress-3-0.markdown
    ./about/index.markdown
    ./contact/index.markdown</code></pre></div>

<p>Note I used the double star zsh notation to <strong>recursively</strong> list the files which is shorter than  <code>find . -name &#39;*.markdown&#39;</code>.</p>

<p>This is where <code>zmv</code> comes in handy to <strong>recursively</strong> change the extension from <code>.markdown</code> to <code>.md</code>. Once more the double stars <code>**</code> match the current directory or whatever directory beneath it.</p>

<div class="highlight"><pre><code class="language-shell" data-lang="shell">zmv <span class="s1">'(**/)(*).markdown'</span> <span class="s1">'$1$2.md'</span></code></pre></div>

<p>Voilà, the files are renamed!</p>

<div class="highlight"><pre><code class="language-shell" data-lang="shell">ls <span class="k">**</span>/<span class="k">*</span>.md
    ./_drafts/2012-05-06-learning-ruby-and-ruby-on-rails.md
    ./_drafts/2015-07-19-welcome-to-jekyll.md
    ./_posts/2012-02-10-baked-with-octopress.md
    ./_posts/2015-08-15-batch-rename-files-with-zsh.md
    ./_posts/2015-08-15-octopress-3-0.md
    ./about/index.md
    ./contact/index.md</code></pre></div>

<p>You can also use the <code>-n</code> option to ask <code>zmv</code> to print what it would do without actually doing it. This gives you an opportunity to check that everything is ok before running the command to prevent you from doing a lot of back and forth only because of typo in the command ;-).</p>

<div class="highlight"><pre><code class="language-shell" data-lang="shell">zmv  -n <span class="s1">'(**/)(*).markdown'</span> <span class="s1">'$1$2.md'</span>
    mv -- _drafts/2012-05-06-learning-ruby-and-ruby-on-rails.markdown _drafts/2012-05-06-learning-ruby-and-ruby-on-rails.md
    mv -- _drafts/2015-07-19-welcome-to-jekyll.markdown _drafts/2015-07-19-welcome-to-jekyll.md
    mv -- _posts/2012-02-10-baked-with-octopress.markdown _posts/2012-02-10-baked-with-octopress.md
    mv -- _posts/2015-08-15-batch-rename-files-with-zsh.markdown _posts/2015-08-15-batch-rename-files-with-zsh.md
    mv -- _posts/2015-08-15-octopress-3-0.markdown _posts/2015-08-15-octopress-3-0.md
    mv -- about/index.markdown about/index.md
    mv -- contact/index.markdown contact/index.md</code></pre></div>

<p>I only scratched the surface of this feature. 
If you want to read more I recommend you <a href="http://www.drbunsen.org/batch-file-renaming/">Seth Brown&#39;s post</a>.</p>


<div class="entry-social-sharing social-links"></div>

<nav role="pagination" class="post-nav">

<a class="previous-post" href="/2015/08/15/octopress-3-0/" title="Previous Article: Octopress 3.0">
  <div class='previous-post-marker'><span class='previous-post-arrow'>&larr;</span> Previous Article</div>
  <h6 class='previous-post-title'>Octopress 3.0</h6>
</a>


</nav>


</div>

  <footer class='entry-footer' role='contentinfo'>
    
  </footer>

</article>
</div>
  
</div>
</div>
<div class="site-bottom"><div class="site-bottom-content">
<footer class='site-footer' role="contentinfo">
  <p class='footer-copyright'>Copyright © 2015- Eric Bouchut
  - Powered by <a href='http://octopress.org'>Octopress</a></p>
  
</footer>
</div></div></div>
</div>
  <script async src='/javascripts/all-89e618b65cc40b4669afd88926b07ff5.js'></script>
  
  
</body>
</html>
